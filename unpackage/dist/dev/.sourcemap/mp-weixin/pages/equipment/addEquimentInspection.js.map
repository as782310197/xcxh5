{"version":3,"sources":["uni-app:///main.js","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?fb4b","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?680a","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?6531","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?e776","uni-app:///pages/equipment/addEquimentInspection.vue","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?4822","webpack:///E:/svncode/uniQiCheBao/pages/equipment/addEquimentInspection.vue?da96"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iI;AACAA,UAAU,CAACC,8BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8I;AAC9I;AACyE;AACL;AACsC;;;AAG1G;AACqL;AACrL,gBAAgB,6LAAU;AAC1B,EAAE,2FAAM;AACR,EAAE,4GAAM;AACR,EAAE,qHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gHAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,+sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuEntB,mE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,6D,eAEA,EACA,IADA,kBACA,CACA,SACA,MADA,EAEA,cAFA,EAEA;AACA,eAHA,EAGA;AACA,mDAJA,EAIA;AACA,iBALA,EAKA;AACA,0BANA,EAMA;AACA,0BAPA,EAOA;AACA,yBARA,EAQA;AACA,yBATA,EASA;AACA;AACA,gBACA,SADA,EAEA,YAFA,EAGA,aAHA,EAIA,aAJA,EAKA,OALA,EAXA,EAkBA,8BAlBA,EAmBA,8BAnBA,EAoBA,6BApBA,EAqBA,6BArBA,GAuBA,CAzBA,EA0BA,YACA,2CACA;AACA,+JACA,CAJA,EA1BA,EAgCA,MAhCA,kBAgCA,MAhCA,EAgCA,CACA,6DACA,8CACA,oBACA,iBACA,CArCA,EAsCA,WACA;AACA,aAFA,uBAEA,mBACA,yCACA,YACA,sBADA,EAEA,cAFA,EAGA,QACA,gCADA,EAHA,IAMA,IANA,CAMA,gBACA,0BACA,gCACA,qBACA,CAHA,MAGA,CACA,wBACA,CACA,CAbA,EAcA,CAlBA,EAmBA;AACA,eApBA,yBAoBA,CACA,iBADA,CAEA;AACA,uBACA,YADA,EACA;AACA,gCAFA,EAGA,gCAHA,EAIA,8BAJA,EAKA,gCALA,EAMA,0BANA,CAMA;AANA,SAHA,CAWA;AACA,iCACA,qBACA,0BADA,EAEA,gCACA,2CACA,yCACA,OACA,CACA,CAPA,IASA,8BACA,sBACA,CAFA,EAVA,CAaA;AACA;AACA,uBADA;AAEA;AACA;AACA,sCADA;AAEA,4BAFA;AAGA;AACA,kCADA;AAEA,iCAFA,EAHA;;AAOA,gBAPA,CAOA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA,oCADA;AAEA,8BAFA;AAGA,gCAHA;;AAKA;AACA,aAjBA;AAkBA,WArBA;AAsBA;AACA;AACA,WAxBA;;AA0BA,OAxCA;AAyCA,KAzEA;AA0EA;AACA,uBA3EA,iCA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAnFA;AAoFA;AACA,uBArFA,iCAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KA7FA;AA8FA;AACA,sBA/FA,gCA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAvGA;AAwGA;AACA,sBAzGA,gCAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAjHA;AAkHA;AACA,gBAnHA,0BAmHA;AACA,gBADA,CACA,EADA,eACA,EADA,CACA,QADA,eACA,QADA,CACA,OADA,eACA,OADA,CACA,gBADA,eACA,gBADA,CACA,gBADA,eACA,gBADA,CACA,eADA,eACA,eADA,CACA,eADA,eACA,eADA;AAEA;AACA,+DADA;AAEA,sBAFA;AAGA;AACA,2BADA;AAEA,8BAFA;AAGA,+BAHA;AAIA,kCAJA;AAKA,kCALA;AAMA,iCANA;AAOA,iCAPA,EAHA;;AAYA,UAZA,CAYA;AACA;AACA;AACA,6CADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA;AACA;AACA,wEADA;;AAGA,WAJA,EAIA,IAJA;AAKA,SAZA,MAYA;AACA;AACA,mCADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAhCA;AAiCA,KAtJA;AAuJA,YAvJA,sBAuJA;AACA;AACA,KAzJA,EAtCA,E;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAyxC,CAAgB,ivCAAG,EAAC,C;;;;;;;;;;;ACA7yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/equipment/addEquimentInspection.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/equipment/addEquimentInspection.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addEquimentInspection.vue?vue&type=template&id=04a36c09&scoped=true&\"\nvar renderjs\nimport script from \"./addEquimentInspection.vue?vue&type=script&lang=js&\"\nexport * from \"./addEquimentInspection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addEquimentInspection.vue?vue&type=style&index=0&id=04a36c09&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a36c09\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/equipment/addEquimentInspection.vue\"\nexport default component.exports","export * from \"-!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addEquimentInspection.vue?vue&type=template&id=04a36c09&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.loadingMechanicsImgSrc1 = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.loadingMechanicsImgSrc2 = false\n    }\n\n    _vm.e2 = function($event) {\n      _vm.loadingWorkSiteImgSrc1 = false\n    }\n\n    _vm.e3 = function($event) {\n      _vm.loadingWorkSiteImgSrc2 = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addEquimentInspection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addEquimentInspection.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 设备类型 -->\r\n\t\t<view class=\"uni-type-box\">\r\n\t\t\t<view class=\"uni-icon\"><uni-icons type=\"info\" size=\"24\" color=\"#848587\"></uni-icons></view>\r\n\t\t\t<view class=\"uni-info\">{{ deviceType }}</view>\r\n\t\t</view>\r\n\t\t<!-- 设备种类 -->\r\n\t\t<view class=\"uni-class-box\">{{ model }}</view>\r\n\r\n\t\t<!-- 添加设备巡查记录表单 -->\r\n\t\t<view class=\"uni-form-box\">\r\n\t\t\t<form class=\"uni-form\" @submit=\"handleSubmit\">\r\n\t\t\t\t<view class=\"uni-form-item\">\r\n\t\t\t\t\t<view class=\"uni-label\">\r\n\t\t\t\t\t\t<image class=\"uni-icon\" src=\"../../static/icon/riqi.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<span>创建时间:</span>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-input-box\">{{ dateTime }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-form-item\">\r\n\t\t\t\t\t<view class=\"uni-label\"><image class=\"uni-icon\" src=\"../../static/icon/dingwei.png\" mode=\"widthFix\"></image></view>\r\n\t\t\t\t\t<view class=\"uni-input-box\">\r\n\t\t\t\t\t\t<view class=\"uni-choice-map\" :class=\"address ? '' : 'active'\" @click=\"getLocation\">{{ address ? address : '请选择巡查位置' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"upload-img-view\">\r\n\t\t\t\t\t<view class=\"label\">机械照片</view>\r\n\t\t\t\t\t<!-- 单图上传 -->\r\n\t\t\t\t\t<view class=\"upload-box\">\r\n\t\t\t\t\t\t<!-- 机械照片1 -->\r\n\t\t\t\t\t\t<view class=\"on-upload-img\" @click=\"uploadMechanicsImg1\">\r\n\t\t\t\t\t\t\t<image class=\"loading\" src=\"../../static/images/loading/loading.gif\" v-show=\"loadingMechanicsImgSrc1\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<image @load=\"loadingMechanicsImgSrc1 = false\" class=\"img\" :src=\"mechanicsImgSrc1\" mode=\"scaleToFill\" v-show=\"!loadingMechanicsImgSrc1\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 机械照片2 -->\r\n\t\t\t\t\t\t<view class=\"on-upload-img\" @click=\"uploadMechanicsImg2\">\r\n\t\t\t\t\t\t\t<image class=\"loading\" src=\"../../static/images/loading/loading.gif\" v-show=\"loadingMechanicsImgSrc2\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<image  @load=\"loadingMechanicsImgSrc2 = false\" class=\"img\" :src=\"mechanicsImgSrc2\" mode=\"scaleToFill\" v-show=\"!loadingMechanicsImgSrc2\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"upload-img-view\">\r\n\t\t\t\t\t<view class=\"label\">工地照片</view>\r\n\t\t\t\t\t<!-- 单图上传 -->\r\n\t\t\t\t\t<view class=\"upload-box\">\r\n\t\t\t\t\t\t<!-- 工地照片1 -->\r\n\t\t\t\t\t\t<!-- <view class=\"on-upload-img\" @click=\"uploadWorkSiteImg1\"><image class=\"img\" :src=\"workSiteImgSrc1\" mode=\"scaleToFill\"></image></view> -->\r\n\t\t\t\t\t\t<view class=\"on-upload-img\" @click=\"uploadWorkSiteImg1\">\r\n\t\t\t\t\t\t\t<image class=\"loading\" src=\"../../static/images/loading/loading.gif\" v-show=\"loadingWorkSiteImgSrc1\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<image  @load=\"loadingWorkSiteImgSrc1 = false\" class=\"img\" :src=\"workSiteImgSrc1\" mode=\"scaleToFill\" v-show=\"!loadingWorkSiteImgSrc1\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 工地照片2 -->\r\n\t\t\t\t\t\t<!-- <view class=\"on-upload-img\" @click=\"uploadWorkSiteImg2\"><image class=\"img\" :src=\"workSiteImgSrc2\" mode=\"scaleToFill\"></image></view> -->\r\n\t\t\t\t\t\t<view class=\"on-upload-img\" @click=\"uploadWorkSiteImg2\">\r\n\t\t\t\t\t\t\t<image class=\"loading\" src=\"../../static/images/loading/loading.gif\" v-show=\"loadingWorkSiteImgSrc2\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<image  @load=\"loadingWorkSiteImgSrc2 = false\" class=\"img\" :src=\"workSiteImgSrc2\" mode=\"scaleToFill\" v-show=\"!loadingWorkSiteImgSrc2\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 说明 -->\r\n\t\t\t\t<view class=\"uni-explain-box\">\r\n\t\t\t\t\t<p>说明：</p>\r\n\t\t\t\t\t<p>信息提交后将不可以更改删除。提交前请确认照片是否正确。</p>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button class=\"uni-submit-btn\" :class=\"!submitDisabled ? 'active' : ''\" type=\"primary\" :disabled=\"!submitDisabled\" form-type=\"submit\">提交巡查信息</button>\r\n\t\t\t</form>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\nimport { uploadFile, formatDate } from '../../utils/common.js';\r\nvar jweixin = require('jweixin-module');\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tid: '',\r\n\t\t\tdeviceType: '', //设备类型\r\n\t\t\tmodel: '', //设备种类\r\n\t\t\tdateTime: formatDate(new Date()), // 日期时间\r\n\t\t\taddress: '', // 地理位置\r\n\t\t\tmechanicsImgSrc1: '', // 机械照片1\r\n\t\t\tmechanicsImgSrc2: '', // 机械照片2\r\n\t\t\tworkSiteImgSrc1: '', // 工地照片1\r\n\t\t\tworkSiteImgSrc2: '', // 工地照片2\r\n\t\t\t// submitDisabled: true, // 提交巡查信息按钮是否 可点击\r\n\t\t\tparams: {\r\n\t\t\t\tappId: '',\r\n\t\t\t\tnonceStr: '',\r\n\t\t\t\tsignature: '',\r\n\t\t\t\ttimestamp: '',\r\n\t\t\t\turl: '',\r\n\t\t\t},\r\n\t\t\tloadingMechanicsImgSrc1: false,\r\n\t\t\tloadingMechanicsImgSrc2: false,\r\n\t\t\tloadingWorkSiteImgSrc1: false,\r\n\t\t\tloadingWorkSiteImgSrc2: false,\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tsubmitDisabled: function() {\r\n\t\t\t// 只要都不为空才可以上传\r\n\t\t\treturn this.address !== '' && this.mechanicsImgSrc1 !== '' && this.mechanicsImgSrc2 !== '' && this.workSiteImgSrc1 !== '' && this.workSiteImgSrc2 !== '';\r\n\t\t}\r\n\t},\r\n\tonLoad(option) {\r\n\t\tthis.deviceType = option.deviceType ? option.deviceType : '';\r\n\t\tthis.model = option.model ? option.model : '';\r\n\t\tthis.id = option.id;\r\n\t\tthis.getParams();\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取js-sdk配置参数\r\n\t\tgetParams(){\r\n\t\t\tconsole.log(location.href.split('#')[0]);\r\n\t\t\tthis.http({\r\n\t\t\t\turl: '/api/wx/getSign',\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tdata:{\r\n\t\t\t\t\turl: location.href.split('#')[0]\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\tthis.params = res.data.result\r\n\t\t\t\t\tthis.getLocation();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('获取配置参数失败');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取当前位置\r\n\t\tgetLocation() {\r\n\t\t\tconst _this = this;\r\n\t\t\t// 判断是否支持获取定位\r\n\t\t\tjweixin.config({\r\n\t\t\t\tdebug: false, //开启debug模式.正式环境设置为false,测试环境设置为true\r\n\t\t\t\tappId: this.params.appId,\r\n\t\t\t\ttimestamp: this.params.timestamp,\r\n\t\t\t\tnonceStr: this.params.nonceStr,\r\n\t\t\t\tsignature: this.params.signature,\r\n\t\t\t\tjsApiList: ['getLocation'] //根据需要看需要哪些SDK的功能\r\n\t\t\t});\r\n\t\t\t// sdk加载完成后执行\r\n\t\t\tjweixin.ready(function() {\r\n\t\t\t\tjweixin.checkJsApi({\r\n\t\t\t\t\tjsApiList: ['getLocation'],\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.checkResult.getLocation == false) {\r\n\t\t\t\t\t\t\talert('你的微信版本太低，不支持微信JS接口，请升级到最新的微信版本！');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tjweixin.error(function(res) {\r\n\t\t\t\t\tconsole.log('接口调取失败');\r\n\t\t\t\t});\r\n\t\t\t\t// 获取位置\r\n\t\t\t\tjweixin.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t_this.http({\r\n\t\t\t\t\t\t\turl: '/api/common/regeo',\r\n\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tlng: res.longitude,\r\n\t\t\t\t\t\t\t\tlat: res.latitude\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(res1 => {\r\n\t\t\t\t\t\t\tif (res1.data.code === 1) {\r\n\t\t\t\t\t\t\t\t_this.address = res1.data.result;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '当前经纬度解析失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcancel: function(res) {\r\n\t\t\t\t\t\talert('您已禁止获取位置信息');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 机械照片1\r\n\t\tuploadMechanicsImg1() {\r\n\t\t\tuploadFile().then(res => {\r\n\t\t\t\tif (this.loadingMechanicsImgSrc1) return false;\r\n\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\tthis.mechanicsImgSrc1 = JSON.parse(res.data).url;\r\n\t\t\t\t\tthis.loadingMechanicsImgSrc1 = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 机械照片2\r\n\t\tuploadMechanicsImg2() {\r\n\t\t\tif (this.loadingMechanicsImgSrc2sss) return false;\r\n\t\t\tuploadFile().then(res => {\r\n\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\tthis.mechanicsImgSrc2 = JSON.parse(res.data).url;\r\n\t\t\t\t\tthis.loadingMechanicsImgSrc2 = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 工地照片1\r\n\t\tuploadWorkSiteImg1() {\r\n\t\t\tuploadFile().then(res => {\r\n\t\t\t\tif (this.loadingWorkSiteImgSrc1) return false;\r\n\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\tthis.workSiteImgSrc1 = JSON.parse(res.data).url;\r\n\t\t\t\t\tthis.loadingWorkSiteImgSrc1 = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 工地照片2\r\n\t\tuploadWorkSiteImg2() {\r\n\t\t\tuploadFile().then(res => {\r\n\t\t\t\tif (this.loadingWorkSiteImgSrc2) return false;\r\n\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\tthis.workSiteImgSrc2 = JSON.parse(res.data).url;\r\n\t\t\t\t\tthis.loadingWorkSiteImgSrc2 = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//  点击提交按钮\r\n\t\thandleSubmit() {\r\n\t\t\tconst { id, dateTime, address, mechanicsImgSrc1, mechanicsImgSrc2, workSiteImgSrc1, workSiteImgSrc2 } = this.$data;\r\n\t\t\tthis.http({\r\n\t\t\t\turl: '/api/bizDeviceRequirement/importInspectionRecord',\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\trequirementId: id,\r\n\t\t\t\t\trecordDate: dateTime,\r\n\t\t\t\t\trecordLocate: address,\r\n\t\t\t\t\tphoto1: mechanicsImgSrc1,\r\n\t\t\t\t\tphoto2: mechanicsImgSrc2,\r\n\t\t\t\t\tphoto3: workSiteImgSrc1,\r\n\t\t\t\t\tphoto4: workSiteImgSrc2\r\n\t\t\t\t}\r\n\t\t\t}).then(res => {\r\n\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.data.result + '，页面跳转中',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 跳转回巡查记录页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/equipment/equimentInspection?id=' + this.id\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 2000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.data.message,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadOver() {\r\n\t\t\tconsole.log('上传完毕');\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n// 引用公共样式————设置通配选择器\r\n@import '/common/lib/uni.css';\r\n\r\n.container {\r\n\twidth: 100%;\r\n\r\n\t// 设备类型\r\n\t.uni-type-box {\r\n\t\twidth: 100%;\r\n\t\tpadding: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.uni-info {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #000;\r\n\t\t}\r\n\t}\r\n\r\n\t// 设备种类\r\n\t.uni-class-box {\r\n\t\twidth: 90%;\r\n\t\theight: 100rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #000;\r\n\t\tbackground-color: #f0f4f7;\r\n\t\tmargin: 0rpx auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t// 添加设备巡查记录表单\r\n\t.uni-form-box {\r\n\t\twidth: 100%;\r\n\r\n\t\t.uni-form {\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.uni-form-item {\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\tmin-height: 80rpx;\r\n\t\t\t\tpadding: 20rpx 0rpx;\r\n\t\t\t\tmargin: 0rpx auto;\r\n\t\t\t\tborder-bottom: 1rpx solid #eaeaea;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t// justify-content: space-between;\r\n\t\t\t\t.uni-label {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\t.uni-icon {\r\n\t\t\t\t\t\twidth: 45rpx;\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #575757;\r\n\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.uni-input-box {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tmin-height: 80rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #575757;\r\n\t\t\t\t\tmargin-left: 30rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.uni-picker {\r\n\t\t\t\t\t\t.uni-input {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #575757;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.uni-choice-map {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\tmin-height: 80rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t&.active {\r\n\t\t\t\t\t\t\tcolor: #d0d0d0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.upload-img-view {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tpadding: 0rpx 20rpx;\r\n\r\n\t\t\t\t.label {\r\n\t\t\t\t\tcolor: #616162;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.upload-box {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\t// margin-bottom: 10rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t.on-upload-img {\r\n\t\t\t\t\t\twidth: 300rpx;\r\n\t\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\t\tborder: 1rpx solid #cccccc;\r\n\t\t\t\t\t\tbackground-color: #e5e4e5;\r\n\t\t\t\t\t\tbackground-image: url(../../static/icon/add-icon.png);\r\n\t\t\t\t\t\tbackground-repeat: no-repeat;\r\n\t\t\t\t\t\tbackground-position: 50% 50%;\r\n\t\t\t\t\t\tbackground-size: 100rpx 100rpx;\r\n\t\t\t\t\t\t// margin-top: 20rpx;\r\n\t\t\t\t\t\t// margin-left: 50%;\r\n\t\t\t\t\t\t// margin-bottom: 10rpx;\r\n\r\n\t\t\t\t\t\t.img {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.loading {\r\n\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 说明\r\n\t\t\t.uni-explain-box {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #939393;\r\n\t\t\t\tpadding: 40rpx;\r\n\r\n\t\t\t\tp + p {\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.uni-submit-btn {\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\theight: 90rpx;\r\n\t\t\t\tline-height: 90rpx;\r\n\t\t\t\tborder-radius: 45rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tbackground-color: #ff6d00;\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tbackground-color: #ffb681;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.uni-submit-btn::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addEquimentInspection.vue?vue&type=style&index=0&id=04a36c09&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\software\\\\Hbui\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addEquimentInspection.vue?vue&type=style&index=0&id=04a36c09&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1610606272045\n      var cssReload = require(\"D:/software/Hbui/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}